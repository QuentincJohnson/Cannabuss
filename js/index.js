//PTODUCTS

let products =  [19]
products[0] = {
    id:1,
    name: "Gorilla Glue",
    image: "img/1.png",
    discription:"Original Glue (GG4), developed by GG Strains, is a potent hybrid strain that delivers heavy-handed euphoria and relaxation, leaving you feeling “glued” to the couch. Its chunky, resin-covered buds fill the room with pungent earthy and sour aromas inherited from its parent strains, Chem’s Sister, Sour Dubb, and Chocolate Diesel",
    price: [9.00.toFixed(2),30.00.toFixed(2),70.00.toFixed(2)],
    quality: "A+",
    strain: "Indica",
    category: "Flower",
    science: ["11", "4"] //thc -> cbd
}
products[1] = {
    id:2,
    name: "Zkittlez",
    image:"img/2.png",
    discription: "Zkittlez is an indica-dominant mix of Grape Ape and Grapefruit that is crossed with another undisclosed strain to produce this candy-flavored cannabis bred by 3rd Gen Family and Terp Hogz. This award-winning combination took 1st Place at the 2016 Emerald Cup and 1st Place Indica at the 2015 Cannabis Cups in San Francisco and in Michigan" ,
    price: [9.00.toFixed(2),30.00.toFixed(2),70.00.toFixed(2)],
    quality: "A+",
    strain:"Hybrid",
    category: "Flower",
    science: ["10", "2"] //thc -> cbd
}
products[2] = {
    id:3,
    name: "Jack Herer",
    image: "img/3.png",
    discription: "Jack Herer is a sativa-dominant cannabis strain that has gained as much renown as its namesake, the marijuana activist and author of The Emperor Wears No Clothes. Combining a Haze hybrid with a Northern Lights #5 and Shiva Skunk cross, Sensi Seeds created Jack Herer hoping to capture both cerebral elevation and heavy resin production. Its rich genetic background gives rise to several different variations of Jack Herer",
    price: [9.00.toFixed(2),30.00.toFixed(2),70.00.toFixed(2)],
    quality: "A+",
    strain: "Sativa",
    category: "Flower",
    science: ["11", "1"] //thc -> cbd
}
products[3] = {
    id:4,
    name: "Blueberry",
    image: "img/4.png",
    discription: "A true A-List cannabis strain, Blueberry’s legendary status soared to new heights after claiming the High Times’ Cannabis Cup 2000 for Best Indica. The long history of the strain goes back to the late 1970s when American breeder DJ Short was working with a variety of exotic landrace strains.",
    price: [9.00.toFixed(2),30.00.toFixed(2),70.00.toFixed(2)],
    quality: "A+",
    strain:"Indica",
    category: "Flower",
    science: ["8", "4"] //thc -> cbd
}
products[4] = {
    id:5,
    name:"Blue Dream",
    image: "img/5.png",
    discription:"Blue Dream, a sativa-dominant hybrid originating in California, has achieved legendary status among West Coast strains. Crossing Blueberry with Haze, Blue Dream balances full-body relaxation with gentle cerebral invigoration. Novice and veteran consumers alike enjoy the level effects of Blue Dream, which ease you gently into a calm euphoria.",
    price: [9.00.toFixed(2),30.00.toFixed(2),70.00.toFixed(2)],
    quality: "A+",
    strain:"Hybrid",
    category: "Flower",
    science: ["11", "0"] //thc -> cbd
}
products[5] = {
    id:6,
    name:"Acaupulco Glod",
    image:"img/6.png",
    discription:"One of the most well-known strains, Acapulco Gold has been likened to dinner at a five-star restaurant. This strain comes from the area in and around Acapulco, Mexico, and its orange hairs resemble a gold nugget, with gold, green, and brown colors and plenty of resin on the buds. An aroma of burnt toffee lingers when the bud is broken up." ,
    price: [10.00.toFixed(2), 80.00.toFixed(2), 140.00.toFixed(2)],
    quality: "A++",
    strain: "Sativa",
    category: "Flower",
    science: ["12", "2"] //thc -> cbd
}
products[6] = {
    id:7,
    name: "Grape Ape",
    image: "img/7.png",
    discription: "Grape Ape, propagated by Apothecary Genetics and Barney’s Farm, is a mostly indica strain that crosses Mendocino Purps, Skunk, and Afghani. Named for its distinct grape-like smell, this indica is known for providing carefree relaxation that can help soothe pain, stress, and anxiety.",
    price: [10.00.toFixed(2), 80.00.toFixed(2), 140.00.toFixed(2)],
    quality:"A++",
    strain: "Indica",
    category: "Flower",
    science: ["10", "6"] //thc -> cbd
}
products[7] = {
    id:8,
    name: "Gelato",
    image: "img/8.png",
    discription: "Gelato (also referred to as \"Larry Bird\") is a tantalizing hybrid cannabis strain from Cookie Fam and Sherbinski, following in the footsteps of its parents Sunset Sherbet and Thin Mint GSC. This Bay Area, California native gets its name from the fruity, dessert-like aroma, a common genetic thread among the Cookie family." ,
    price: [10.00.toFixed(2), 80.00.toFixed(2), 140.00.toFixed(2)],
    quality:"A++",
    strain: "Hybrid",
    category: "Flower",
    science: ["13", "3"]//thc -> cbd
}
products[8] = {
    id:9,
    name: "Maui Wowie",
    image: "img/9.png",
    discription: "Maui Wowie (not Maui Waui) is a classic sativa whose tropical flavors and stress-relieving qualities will float you straight to the shores of Hawaii where this strain originally comes from. Since its beginnings in the island’s volcanic soil, Maui Wowie has spread across the world to bless us with its sweet pineapple flavors and high-energy euphoria.",
    price: [10.00.toFixed(2), 80.00.toFixed(2), 140.00.toFixed(2)],
    quality:"A++",
    strain:"Sativa",
    category: "Flower",
    science: ["14", "0"] //thc -> cbd
}
products[9] = {
    id:10,
    name:"Nuken",
    image: "img/10.png",
    discription: "The mostly indica Nuken is a Canadian strain bred by combining genetics from Kish (a cross of two Shishkaberry parents) and God Bud. Her even-keeled effects are delivered alongside a sweet, earthy aroma of fresh herbs and grass. While undeniably strong, Nuken typically leaves you functional enough to still enjoy hobbies and the company of friends.",
    price: [11.00.toFixed(2), 85.00.toFixed(2), 150.00.toFixed(2)],
    quality:"A+++",
    strain: "Indica",
    category:"Flower",
    science: ["16", "2"] //thc -> cbd
}
products[10] = {
    id:11,
    name: "AK-47",
    image: "img/11.png",
    discription: "Don't let its intense name fool you: AK-47 will leave you relaxed and mellow. This sativa-dominant strain mixes Colombian, Mexican, Thai, and Afghani varieties, bringing together a complex blend of flavors and effects. AK-47 may deliver a steady and long-lasting cerebral buzz that will keep you mentally alert and engaged in creative or social activities.",
    price: [11.00.toFixed(2), 85.00.toFixed(2), 150.00.toFixed(2)],
    quality: "A+++",
    strain: "Hybrid",
    category: "Flower",
    science: ["15", "7"] //thc -> cbd
}
products[11] = {
    id:12,
    name: "Amnesia",
    image: "img/12.png",
    discription:"Amnesia is typically a sativa-dominant cannabis strain with some variation between breeders. Skunk, Cinderella 99, and Jack Herer are some of Amnesia’s genetic forerunners, passing on uplifting, creative, and euphoric effects ideal for treating mood disorders. Growers should expect a 9-10 week flowering period with moderate yields.",
    price: [11.00.toFixed(2), 85.00.toFixed(2), 150.00.toFixed(2)],
    quality: "A+++",
    strain: "Sativa",
    category:"Flower",
    science: ["17", "1"] //thc -> cbd
}
products[12] = {
    id:13,
    name: "3X Crazy",
    image: "img/13.png",
    discription: "Also known as Optimus Prime, the indica-dominant 3X Crazy is a three-way cross between OG Kush, Bubba Kush, and Granddaddy Purple. Its aroma is comprised of sweet grape, spicy pepper, and earthy notes passed on by its Bubba Kush parent. This indica can cover the consumer in soothing full-body effects, but not before a brief phase of clear-headed cerebral sizzle.",
    price: [11.00.toFixed(2), 85.00.toFixed(2), 150.00.toFixed(2)],
    quality: "A+++",
    strain: "Indica",
    category: "Flower",
    science: ["13", "9"] //thc -> cbd
}
products[13] = {
    id:14,
    name: "3 Kings",
    image: "img/14.png",
    discription: "The 3 Kings marijuana strain, a holy trinity of Headband, Sour Diesel, and OG Kush, is a sativa-dominant hybrid and genetic masterpiece. Sour tanginess reek from the sage green buds, and its frosty coat gives you a fair warning of the 3 Kings’ potency.",
    price: [12.00.toFixed(2), 90.00.toFixed(2), 160.00.toFixed(2)],
    quality:"Quad",
    strain: "Hybrid",
    category: "Flower",
    science: ["19", "3"] //thc -> cbd
}
products[14] = {
    id:15,
    name: "Royal Haze",
    image: "img/15.png",
    discription: "Royal Haze (or Royale Haze) by Dinafem Seeds is a mostly sativa strain bred from Skunk, Haze, and Northern Lights genetics. Taking after her Haze parent, this sativa inherits a spicy citrus flavor and buzzing, energetic effects that keep you alert and productive throughout the day.",
    price: [13.00.toFixed(2), 100.00.toFixed(2), 180.00.toFixed(2)],
    quality: "Quad",
    strain: "Sativa",
    category: "Flower",
    science: ["21", "0"] //thc -> cbd
}
products[15] = {
    id:16,
    name: "Afghani",
    image: "img/16.png",
    discription: "Afghani is a heavy indica strain named after its geographic origin, where the earliest varieties of cannabis are believed to have grown. Breeders worldwide have come to treasure Afghani for its heavy resin production which is passed on genetically. With a sweet, earthy aroma, Afghani delivers a deep, sedating relaxation and euphoria. ",
    price: [12.00.toFixed(2), 95.00.toFixed(2), 170.00.toFixed(2)],
    quality:"Quad", 
    strain: "Indica",
    category: "Flower",
    science: ["18", "6"] //thc -> cbd
}
products[16] = {
    id:17,
    name: "white Rhino",
    image: "img/shat1.png",
    discription: "White Rhino is a hybrid of White Widow and an unknown North American indica strain, resulting a bushy and stout plant. This strain is said to descend from cultivars sourced from Afghanistan, Brazil, and India. White Rhino's high THC content makes it a popular choice among consumers looking for heavy-handed relaxation and symptom relief.",
    price: [65.00.toFixed(2), .175.toFixed(2), 360.00.toFixed(2)],
    quality: "A+++",
    strain: "Indica",
    category: "Concentrate",
    science: ["44", "10"] //thc -> cbd
}
products[17] = {
    id:18,
    name: "Clementine",
    image: "img/shat2.png",
    discription: "Clementine is a sweet, citrus flavored sativa hybrid that combines Tangie with Lemon Skunk genetics. The concentrated live resin of Clementine from Crocket Family Farms took home 2nd Place for the Best Sativa Concentrate at the 2015 Cannabis Cup in Michigan.",
    price: [65.00.toFixed(2), 175.00.toFixed(2), 360.00.toFixed(2)],
    quality:"A+++",
    strain:"Sativa",
    category: "Concentrate",
    science: ["47", "16"] //thc -> cbd
}
products[18] = {
    id:19,
    name: "SFV OG",
    image: "img/shat3.png",
    discription:"SFV OG by Cali Connection is a sativa-dominant hybrid that is great for patients who need strong pain relief but don’t want to be stuck on the couch. As the name indicates, this OG Kush relative originates from California’s San Fernando Valley. Although their names are barely distinguishable, SFV OG Kush is actually the Afghani-crossed child to SFV OG. ",
    price: [65.00.toFixed(2), 175.00.toFixed(2), 360.00.toFixed(2)],
    quality: "Quad",
    strain: "Hybrid",
    category: "Concentrate",
    science: ["55", "30"] //thc -> cbd
}
products[19] = {
    id:20,
    name:"Big Smooth",
    image: "img/shat4.png",
    discription:"Big Smooth by Exotic Genetix is a flavorful cross of OG Blueberry and Cookies and Cream. This indica-dominant hybrid offers a delicious terpene profile that smells sweet and doughy, like blueberry pancakes. Big Smooth grows bushy, medium-tall plants and has a flowering time of 55 to 66 days. Enjoy Big Smooth for its delicious flavor and euphoric, middleweight sedation.",
    price: [65.00.toFixed(2), 175.00.toFixed(2), 360.00.toFixed(2)],
    quality: "Quad",
    strain: "Hybrid",
    category: "Concentrate",
    science: ["62", "24"] //thc -> cbd
}


let search = document.getElementById("search");

/*  Function: fill
    Parameters: array 
    Return: none
    Description:   Fills in the html section with the arrays content  */
function fill(x) {

  x.forEach(element => {

    document.getElementById("content").innerHTML +=
    `<div id="products">
          <!-- Products layout-->
          <article class="product desktop">
            <header class="">
              <img src="${element.image}" class="product-img" alt="Gorilla Glue alt">
            </header>

            <div class="align">
                <h3 class="product-name">${element.name}</h3>
                <p class="discription">${element.discription}</p>
            </div>

            <form>
              <ul class="science">
                <li>
                  <p>${element.category}:</p>
                  <p>${element.strain}</p>
                </li>
                <li><p class="grade">${element.quality}</p></li>
                <li>
                  <p>THC: <strong>${element.science[0]}</strong>%</p>
                  <p>CBD: <strong>${element.science[1]}</strong>%</p>
                </li>
              </ul>

              <section class="price-size">
                  <div><legend class="price">$${element.price[0]}</legend></div>

                  <div class="size">
                    <input type="radio" name="colour" value="gram" id="gram" > 
                    <label for="gram">1G</label>
                  </div>
                  <div class="size">
                    <input type="radio" name="colour" value="eighth" id="eighth">
                    <label for="eighth">1/8 OZ</label>
                  </div>
                  <div class="size">
                   <input type="radio" name="colour" value="half" id="half" > 
                   <label for="half" >1/2 OZ</label>
                  </div>
              </section>
              <div class="cart-add"><button type="button">Add To Cart</button></div>
            </form>
          </article>
        </div>`
});}


fill(products)//base fill for default load

  /* Function: refine 
    Parameters: none
    Return: none
    Description: filters products based on filters chosen      */
function refine() {


  if (
    document.getElementById("flower").checked == false &&
    document.getElementById("concentrate").checked == false
  ) {
    document.getElementById("flower").checked = true; // defaults to flower
  }

  if (
    document.getElementById("indica").checked == false && //checking if nothings filled so it can fill it with everything
    document.getElementById("sativa").checked == false &&
    document.getElementById("hybrid").checked == false
  ) {
    document.getElementById("indica").checked = true ;
    document.getElementById("sativa").checked = true ;
    document.getElementById("hybrid").checked = true;
  }

  if (
    document.getElementById("a+").checked == false &&
    document.getElementById("a++").checked == false &&
    document.getElementById("a+++").checked == false &&
    document.getElementById("quad").checked == false 
  ){
    document.getElementById("a+").checked = true;
    document.getElementById("a++").checked = true ;
    document.getElementById("a+++").checked = true;
    document.getElementById("quad").checked = true;
  }


  document.getElementById("content").innerHTML = "" //reset inner html
  let copy = products.slice(0);
  let qualityList = [];
  let strainList = [];
  let catList = []

  let qualityBased = []
  let catBased = []
  let unsorted = [];

  copy.forEach(element => {
    qualityList.push(element.quality)
    strainList.push(element.strain)
    catList.push(element.category)
    
  });

  //search bar logic
  let input = document.getElementById("search-bar").value;
  let result = []
  copy.forEach(element =>{

    if (input == ""){
      console.log('nothing entered')
      result = copy;
    } else if (element.name.toLowerCase().includes(input.toLowerCase())) {
      console.log(element.name)
      result.push(element)
      console.log(input)
   } 
  })

  copy = result
  console.log(copy)



  // flower or concentrate
  if (document.getElementById("flower").checked == true){
    copy.forEach(element => {
      if (element.category == "Flower") {
        catBased.push(element)
      } 
    });
  }
  if (document.getElementById("concentrate").checked == true){
    copy.forEach(element => {
      if (element.category == "Concentrate") {
        catBased.push(element)
      } 
    });
  }

  console.log(catBased)

  //SORTING Quality

  if (document.getElementById("a+").checked == true){
    catBased.forEach(element => {
      if (element.quality == "A+"){
        console.log(element.quality)
        qualityBased.push(element)
      }
    });
  }

  if (document.getElementById("a++").checked == true){
    catBased.forEach(element => {
      if (element.quality == "A++"){
        console.log(element.quality)
        qualityBased.push(element)
      }
    });
  }
  if (document.getElementById("a+++").checked == true){
    catBased.forEach(element => {
      if (element.quality == "A+++"){
        console.log(element.quality)
        qualityBased.push(element)
      }
    });
  }
  if (document.getElementById("quad").checked == true){
    catBased.forEach(element => {
      if (element.quality == "Quad"){
        console.log(element.quality)
        qualityBased.push(element)
      }
    });
  }
  
  console.log(qualityBased)

  //STRAINS SORTING
  for (let index = 0; index < qualityBased.length; index++) {
    const element = qualityBased[index];
    if (document.getElementById("indica").checked == true) {
      if (element.strain == "Indica") {
        unsorted.push(element)
      } 
    }
  }

  for (let index = 0; index < qualityBased.length; index++) {
    const element = qualityBased[index];
    if (document.getElementById("sativa").checked == true) {
      if (element.strain == "Sativa") {
        unsorted.push(element)
      } 
    }
  }

  for (let index = 0; index < qualityBased.length; index++) {
    const element = qualityBased[index];
    if (document.getElementById("hybrid").checked == true) {
      if (element.strain == "Hybrid") {
        unsorted.push(element)
      } 
    }
  }


//removing duplicates
  let sorted = []
  if (document.getElementById("flower").checked == true || document.getElementById("concentrate").checked == true) {
    sorted =  Array.from(new Set(catBased));
  } 
  if (document.getElementById("a+").checked == true || document.getElementById("a++").checked == true || document.getElementById("a+++").checked == true || document.getElementById("quad").checked == true) {
    sorted =  Array.from(new Set(qualityBased));
  }
  if (document.getElementById("indica").checked == true || document.getElementById("sativa").checked == true || document.getElementById("hybrid").checked == true){
    sorted =  Array.from(new Set(unsorted));
  } 
  
  console.log(copy)
  console.log(unsorted)
  console.log(sorted)





  //sorting price
  if (document.getElementById("high-low").checked == true) {
    sorted = sorted.sort((a,b) =>  b.price[0]-a.price[0])
    console.log(sorted)
  } if (document.getElementById("low-high").checked == true){
    sorted = sorted.sort((a,b) =>  a.price[0]-b.price[0])
    console.log(sorted)
  }



//handles when no results are found
  if (sorted.length == 0) {
    document.getElementById("content").innerHTML = 
    '<p class="result-error">Sory, No Results Found</p>'
  }

  fill(sorted);

}


//event listner 
search.addEventListener("click", refine)

/*   

important snippets of code that wasnt used or could be used

<div id="products">
<!-- Products layout-->
<article class="product">
  <header>
    <img src="" class="product-img" alt="Gorilla Glue alt">
  </header>
  <h3 class="product-name">Gorilla Glue</h3>
  <p class="discription">Original Glue (GG4), developed by GG Strains, is a potent hybrid strain that delivers heavy-handed euphoria and relaxation, leaving you feeling “glued” to the couch. Its chunky, resin-covered buds fill the room with pungent earthy and sour aromas inherited from its parent strains, Chem’s Sister, Sour Dubb, and Chocolate Diesel</p>
 
  <form>
    
    <ul class="science">
      <li>
        <p>Flower <span>:</span></p>
        <p>Indica</p>
      </li>
      <li><p class="grade">A+</p></li>
      <li>
        <p>THC: <strong>12</strong>%</p>
        <p>CBD: <strong>5</strong>%</p>
      </li>
    </ul>

    <section class="price-size">
        <div><legend class="price">$120.00</legend></div>

        <div class="size">
          <input type="radio" name="colour" value="gram" id="gram" > 
          <label for="gram">1G</label>
        </div>
        <div class="size">
          <input type="radio" name="colour" value="eighth" id="eighth">
          <label for="eighth">1/8 OZ</label>
        </div>
        <div class="size">
         <input type="radio" name="colour" value="half" id="half" > 
         <label for="half" >1/2 OZ</label>
        </div>
    </section>
    <div class="cart-add"><button type="button">Add To Cart</button></div>
  </form>
</article>
</div>



for (let index = 0; index < copy.length; index++) {
      const element = copy[index];
      if (document.getElementById("a+").checked == true) {
        if (element.quality != "A+") {
          console.log(element.quality)
          copy.splice(element)
        } 
      }
    }





        if (
      document.getElementById("high-low").checked == false && document.getElementById("low-high").checked == false &&
      document.getElementById("flower").checked == false && document.getElementById("concentrate").checked == false &&
      document.getElementById("indica").checked == false && 
      document.getElementById("sativa").checked == false &&
      document.getElementById("hybrid").checked == false &&
      document.getElementById("a+").checked == false &&
      document.getElementById("a++").checked == false &&
      document.getElementById("a+++").checked == false &&
      document.getElementById("quad").checked == false
      ) { 
        alert("super bruh")
      sorted = copy;
    }

*/
